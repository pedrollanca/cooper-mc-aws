# Copy this file to terraform.tfvars and fill in your values
# terraform.tfvars is gitignored and will not be committed

aws_region     = "us-east-1"
aws_account_id = "123456789012" # Your AWS Account ID
aws_role_arn   = "arn:aws:iam::123456789012:role/TerraformCloudRole" # IAM role for Terraform Cloud
project_name   = "minecraft-server"
environment    = "prod"

# VPC Configuration
vpc_cidr    = "10.0.0.0/26" # 64 IPs
subnet_cidr = "10.0.0.0/28" # 16 IPs

# EC2 Configuration - Using Graviton (ARM64) for better price/performance
instance_type   = "t4g.large"  # Graviton equivalent to t3.medium (4GB RAM, 2 vCPUs)
server_memory   = "6G"          # Adjust based on instance type (t4g.medium has 4GB RAM)
ebs_volume_size = 30            # GB for Minecraft data

# Backup Configuration
snapshot_retention_days = 7

# Security - IMPORTANT: Restrict SSH access to your IP
ssh_allowed_ips = ["0.0.0.0/0"] # Change to ["YOUR_IP/32"] for security

# Route53 Configuration - Fill these in after setting up your domain
domain_name         = "example.com" # Your domain in Route53
subdomain_name      = "mc"          # Used for API control endpoints (mc.example.com/start, /stop, etc.)
game_subdomain_name = "play"        # Used for Minecraft game connections (play.example.com)

# Minecraft Server Configuration
max_players       = 20
server_motd       = "A Vanilla Minecraft Server"
rcon_password     = "YOUR_SECURE_RCON_PASSWORD" # Change this!
admin_username    = "YourMinecraftUsername"
minecraft_version = "1.21.1"

# Server Type: "vanilla", "paper", or "fabric"
server_type = "vanilla"

# ====================
# VANILLA SERVER
# ====================
# server_type = "vanilla"
# server_jar_url = "" # Optional: custom server jar URL, otherwise auto-downloads from Mojang

# ====================
# PAPER SERVER (recommended for multiplatform support with Geyser)
# ====================
# server_type = "paper"
# server_jar_url = "" # Optional: custom Paper jar URL, otherwise downloads latest
# plugin_urls = [
#   "https://download.geysermc.org/v2/projects/geyser/versions/latest/builds/latest/downloads/spigot",
#   "https://download.geysermc.org/v2/projects/floodgate/versions/latest/builds/latest/downloads/spigot"
# ]

# ====================
# FABRIC SERVER (for mods like Cobblemon)
# ====================
# server_type = "fabric"
# fabric_loader_version    = "0.18.4"
# fabric_installer_version = "1.1.0"
# mod_urls = [
#   "https://cdn.modrinth.com/data/P7dR8mSH/versions/m6zu1K31/fabric-api-0.116.7+1.21.1.jar",
#   "https://cdn.modrinth.com/data/MdwFAVRL/versions/s64m1opn/Cobblemon-fabric-1.7.1+1.21.1.jar",
#   "https://cdn.modrinth.com/data/1bokaNcj/versions/X2u4L3vW/Xaeros_Minimap_24.3.0_Fabric_1.21.jar"
# ]

# ====================
# DATAPACKS (works with all server types)
# ====================
datapack_urls = [
  # "https://example.com/datapack1.zip",
  # "https://example.com/datapack2.zip"
]

# ====================
# AUTO-STOP CONFIGURATION
# ====================
idle_timeout_seconds = 3600 # 1 hour (in seconds) - auto-stop server when idle (no players) or unreachable

# NLB Protection
enable_deletion_protection = false # Set to true for production

# Email Notifications (optional)
notification_email = "" # Email to receive start/stop notifications (e.g., "you@example.com")

# API Authentication
api_auth_username = "admin"
api_auth_password = "changeme" # Change this to a secure password!
